import java.awt.Color;
import java.sql.* ;
import javax.swing.JOptionPane;
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * signup1.java
 *
 * Created on May 2, 2017, 6:43:38 PM
 */

/**
 *
 * @author Kunal Shah
 */
public class signup extends javax.swing.JFrame {

    /** Creates new form signup1 */
    public signup() {
        initComponents();
         getContentPane().setBackground(new Color(51,0,204));
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        uid_lb = new javax.swing.JLabel();
        fname_lb = new javax.swing.JLabel();
        lname_lb = new javax.swing.JLabel();
        email_lb = new javax.swing.JLabel();
        pass_lb = new javax.swing.JLabel();
        fname_txt = new javax.swing.JTextField();
        lname_txt = new javax.swing.JTextField();
        uid_txt = new javax.swing.JTextField();
        email_txt = new javax.swing.JTextField();
        signup_btn = new javax.swing.JButton();
        pass_txt = new javax.swing.JPasswordField();
        mob_txt = new javax.swing.JTextField();
        mob_lb = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        showpass_lb = new javax.swing.JLabel();
        showpass_cb = new javax.swing.JCheckBox();
        clear_btn = new javax.swing.JButton();
        back_btn = new javax.swing.JButton();
        sq_lb = new javax.swing.JLabel();
        sq_cb = new javax.swing.JComboBox();
        ans_lb = new javax.swing.JLabel();
        ans_txt = new javax.swing.JTextField();
        jLabel15 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        uid_lb.setFont(new java.awt.Font("Times New Roman", 1, 24));
        uid_lb.setForeground(new java.awt.Color(255, 255, 0));
        uid_lb.setText("User Id");
        getContentPane().add(uid_lb, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 120, 90, -1));

        fname_lb.setFont(new java.awt.Font("Times New Roman", 1, 24));
        fname_lb.setForeground(new java.awt.Color(255, 255, 0));
        fname_lb.setText("First Name");
        getContentPane().add(fname_lb, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 170, 120, -1));

        lname_lb.setFont(new java.awt.Font("Times New Roman", 1, 24));
        lname_lb.setForeground(new java.awt.Color(255, 255, 0));
        lname_lb.setText("Last Name");
        getContentPane().add(lname_lb, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 220, 130, -1));

        email_lb.setFont(new java.awt.Font("Times New Roman", 1, 24));
        email_lb.setForeground(new java.awt.Color(255, 255, 0));
        email_lb.setText("Email");
        getContentPane().add(email_lb, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 270, 80, -1));

        pass_lb.setBackground(new java.awt.Color(255, 255, 255));
        pass_lb.setFont(new java.awt.Font("Times New Roman", 1, 24));
        pass_lb.setForeground(new java.awt.Color(255, 255, 0));
        pass_lb.setText("Password");
        getContentPane().add(pass_lb, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 370, 120, 20));
        getContentPane().add(fname_txt, new org.netbeans.lib.awtextra.AbsoluteConstraints(480, 170, 210, -1));
        getContentPane().add(lname_txt, new org.netbeans.lib.awtextra.AbsoluteConstraints(480, 220, 210, -1));
        getContentPane().add(uid_txt, new org.netbeans.lib.awtextra.AbsoluteConstraints(480, 120, 210, -1));
        getContentPane().add(email_txt, new org.netbeans.lib.awtextra.AbsoluteConstraints(480, 270, 210, -1));

        signup_btn.setBackground(new java.awt.Color(255, 0, 0));
        signup_btn.setFont(new java.awt.Font("Times New Roman", 1, 24));
        signup_btn.setForeground(new java.awt.Color(102, 0, 102));
        signup_btn.setText("Sign Up");
        signup_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                signup_btnActionPerformed(evt);
            }
        });
        getContentPane().add(signup_btn, new org.netbeans.lib.awtextra.AbsoluteConstraints(540, 530, 130, 40));
        getContentPane().add(pass_txt, new org.netbeans.lib.awtextra.AbsoluteConstraints(480, 370, 210, -1));
        getContentPane().add(mob_txt, new org.netbeans.lib.awtextra.AbsoluteConstraints(480, 320, 210, -1));

        mob_lb.setFont(new java.awt.Font("Times New Roman", 1, 24));
        mob_lb.setForeground(new java.awt.Color(255, 255, 0));
        mob_lb.setText("Mobile");
        getContentPane().add(mob_lb, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 320, 100, 20));

        jLabel7.setFont(new java.awt.Font("Verdana", 3, 36));
        jLabel7.setForeground(new java.awt.Color(255, 0, 0));
        jLabel7.setText("Individual Registration");
        getContentPane().add(jLabel7, new org.netbeans.lib.awtextra.AbsoluteConstraints(320, 60, 480, 50));

        showpass_lb.setFont(new java.awt.Font("Tahoma", 1, 12));
        showpass_lb.setForeground(new java.awt.Color(255, 255, 255));
        showpass_lb.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        getContentPane().add(showpass_lb, new org.netbeans.lib.awtextra.AbsoluteConstraints(480, 390, 200, 20));

        showpass_cb.setFont(new java.awt.Font("Tahoma", 1, 14));
        showpass_cb.setText("Show Password");
        showpass_cb.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                showpass_cbActionPerformed(evt);
            }
        });
        getContentPane().add(showpass_cb, new org.netbeans.lib.awtextra.AbsoluteConstraints(710, 370, 140, -1));

        clear_btn.setBackground(new java.awt.Color(255, 0, 0));
        clear_btn.setFont(new java.awt.Font("Times New Roman", 1, 24));
        clear_btn.setForeground(new java.awt.Color(102, 0, 102));
        clear_btn.setText("Clear");
        clear_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clear_btnActionPerformed(evt);
            }
        });
        getContentPane().add(clear_btn, new org.netbeans.lib.awtextra.AbsoluteConstraints(870, 530, 130, 40));

        back_btn.setBackground(new java.awt.Color(255, 0, 0));
        back_btn.setFont(new java.awt.Font("Times New Roman", 1, 24));
        back_btn.setForeground(new java.awt.Color(102, 0, 102));
        back_btn.setText("Back");
        back_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                back_btnActionPerformed(evt);
            }
        });
        getContentPane().add(back_btn, new org.netbeans.lib.awtextra.AbsoluteConstraints(250, 530, 130, 40));

        sq_lb.setFont(new java.awt.Font("Times New Roman", 1, 24));
        sq_lb.setForeground(new java.awt.Color(255, 255, 0));
        sq_lb.setText("Security Question");
        getContentPane().add(sq_lb, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 420, 220, -1));

        sq_cb.setFont(new java.awt.Font("Times New Roman", 1, 18)); // NOI18N
        sq_cb.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Select Question:-", "Your Favourite Musicians Surname ?", "The Street You Grow Up On ?", "Your Favourite Actor Or Actress ?", "The Grandmothers Date Of Birth ?", "Your Patents Post Code ?", "The Brand Of Your First Car ?", "Your Favourite Teachers Surname ?", "Your Favourite Childhood Book ?", "Your Favourite Computer Game ?", " ", " " }));
        getContentPane().add(sq_cb, new org.netbeans.lib.awtextra.AbsoluteConstraints(480, 430, 350, 20));

        ans_lb.setFont(new java.awt.Font("Times New Roman", 1, 24));
        ans_lb.setForeground(new java.awt.Color(255, 255, 0));
        ans_lb.setText("Answer");
        getContentPane().add(ans_lb, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 480, 90, -1));
        getContentPane().add(ans_txt, new org.netbeans.lib.awtextra.AbsoluteConstraints(480, 480, 210, -1));

        jLabel15.setIcon(new javax.swing.ImageIcon(getClass().getResource("/konkanrailway.jpg"))); // NOI18N
        getContentPane().add(jLabel15, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 70, 1120, 520));

        jLabel9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/irctc.jpg"))); // NOI18N
        getContentPane().add(jLabel9, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 1340, -1));

        jLabel10.setIcon(new javax.swing.ImageIcon(getClass().getResource("/partner.jpg"))); // NOI18N
        getContentPane().add(jLabel10, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 600, -1, -1));

        jLabel11.setIcon(new javax.swing.ImageIcon(getClass().getResource("/konkanrailway.jpg"))); // NOI18N
        getContentPane().add(jLabel11, new org.netbeans.lib.awtextra.AbsoluteConstraints(190, 70, 1380, 520));

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void signup_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_signup_btnActionPerformed
String UID=uid_txt.getText();
String F_name=fname_txt.getText();
String L_name=lname_txt.getText();
String email=email_txt.getText();
        String pass=pass_txt.getText();
        String  mobile =mob_txt.getText();
        String question = (String) sq_cb.getSelectedItem();
        String answer = ans_txt.getText();
try
{
    Class.forName("java.sql.DriverManager");
 Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/project","root","admin");
 String q= "Insert into  accounts( U_Id,First_Name,Last_Name,Email_Id,Phone_No,Password,Security_Question,Answer) values (?,?,?,?,?,?,?,?)";
 
            PreparedStatement stmt = con.prepareStatement(q);
            if( uid_txt.getText().equals("")||email_txt.getText().equals("") ||mob_txt.getText().equals("")||fname_txt.getText().equals("")||lname_txt.getText().equals("")||pass_txt.getText().equals(""))
            {
stmt.setString(1, null);
 stmt.setString(6,null);
 stmt.setString(2,null);
 stmt.setString(3,null);
 stmt.setString(5,null);
 stmt.setString(4,null);
 stmt.setString(7,null);
 stmt.setString(8,null);
 JOptionPane.showMessageDialog(null, "Sign Up Unsucessfull - Please Fill all the details. ");
            }
  else {
 stmt.setString(1, UID);
 stmt.setString(6,pass);
 stmt.setString(2,F_name);
 stmt.setString(3,L_name);
 stmt.setString(5,mobile);
 stmt.setString(4,email);
  stmt.setString(7,question);
   stmt.setString(8,answer);
 stmt.execute();
 stmt.close();
 JOptionPane.showMessageDialog(null, "Sign Up Sucessfull ");
    this.setVisible(false);
      new Main().setVisible(true);
    }
}

catch (Exception e)
{JOptionPane.showMessageDialog(null,e.getMessage());}
      
        

        
    }//GEN-LAST:event_signup_btnActionPerformed

    private void showpass_cbActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_showpass_cbActionPerformed
if(showpass_cb.isSelected()){
     String pass =new String(pass_txt.getPassword());
     showpass_lb.setVisible(true);
     showpass_lb.setText(pass);
}else {

showpass_lb.setVisible(false);


}        // TODO add your handling code here:
    }//GEN-LAST:event_showpass_cbActionPerformed

    private void back_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_back_btnActionPerformed
this.setVisible(false);
        new Main().setVisible(true);        // TODO add your handling code here:
    }//GEN-LAST:event_back_btnActionPerformed

    private void clear_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clear_btnActionPerformed
fname_txt.setText("");
lname_txt.setText("");
uid_txt.setText("");
pass_txt.setText("");
email_txt.setText("");
mob_txt.setText("");
ans_txt.setText("");
sq_cb.setSelectedIndex(0);
showpass_cb.setSelected(false);
// TODO add your handling code here:
    }//GEN-LAST:event_clear_btnActionPerformed

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new signup().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel ans_lb;
    private javax.swing.JTextField ans_txt;
    private javax.swing.JButton back_btn;
    private javax.swing.JButton clear_btn;
    private javax.swing.JLabel email_lb;
    private javax.swing.JTextField email_txt;
    private javax.swing.JLabel fname_lb;
    private javax.swing.JTextField fname_txt;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLabel lname_lb;
    private javax.swing.JTextField lname_txt;
    private javax.swing.JLabel mob_lb;
    private javax.swing.JTextField mob_txt;
    private javax.swing.JLabel pass_lb;
    private javax.swing.JPasswordField pass_txt;
    private javax.swing.JCheckBox showpass_cb;
    private javax.swing.JLabel showpass_lb;
    private javax.swing.JButton signup_btn;
    private javax.swing.JComboBox sq_cb;
    private javax.swing.JLabel sq_lb;
    private javax.swing.JLabel uid_lb;
    private javax.swing.JTextField uid_txt;
    // End of variables declaration//GEN-END:variables

}
